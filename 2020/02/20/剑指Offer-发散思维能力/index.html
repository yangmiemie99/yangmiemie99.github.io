<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.9.0">
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/yangmiemie99.github.io/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/yangmiemie99.github.io/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/yangmiemie99.github.io/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/yangmiemie99.github.io/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/yangmiemie99.github.io/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/yangmiemie99.github.io/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/yangmiemie99.github.io/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="剑指Offer,算法,函数指针,静态成员,">










<meta name="description" content="题目64：求1+2+…+n求 1+2+...+n ，要求不能使用乘除法、for、while、if、else、switch、case等关键字及条件判断语句（A?B:C）。 示例 1： 12输入: n = 3输出: 6  示例 2： 12输入: n = 9输出: 45  我们可以从构造函数，虚函数，函数指针及模板参数的实例化角度考虑这道问题。 C++静态成员变量和静态成员函数使用总结一．静态成员变量：">
<meta name="keywords" content="剑指Offer,算法,函数指针,静态成员">
<meta property="og:type" content="article">
<meta property="og:title" content="剑指Offer-发散思维能力">
<meta property="og:url" content="https://yangmiemie99.github.io/2020/02/20/剑指Offer-发散思维能力/index.html">
<meta property="og:site_name" content="MieMieBlog">
<meta property="og:description" content="题目64：求1+2+…+n求 1+2+...+n ，要求不能使用乘除法、for、while、if、else、switch、case等关键字及条件判断语句（A?B:C）。 示例 1： 12输入: n = 3输出: 6  示例 2： 12输入: n = 9输出: 45  我们可以从构造函数，虚函数，函数指针及模板参数的实例化角度考虑这道问题。 C++静态成员变量和静态成员函数使用总结一．静态成员变量：">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="https://yangmiemie99.github.io/yangmiemie99.github.io/2020/02/20/剑指Offer-发散思维能力/1.png">
<meta property="og:image" content="https://yangmiemie99.github.io/yangmiemie99.github.io/2020/02/20/剑指Offer-发散思维能力/2.jpeg">
<meta property="og:updated_time" content="2020-02-21T17:52:15.710Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="剑指Offer-发散思维能力">
<meta name="twitter:description" content="题目64：求1+2+…+n求 1+2+...+n ，要求不能使用乘除法、for、while、if、else、switch、case等关键字及条件判断语句（A?B:C）。 示例 1： 12输入: n = 3输出: 6  示例 2： 12输入: n = 9输出: 45  我们可以从构造函数，虚函数，函数指针及模板参数的实例化角度考虑这道问题。 C++静态成员变量和静态成员函数使用总结一．静态成员变量：">
<meta name="twitter:image" content="https://yangmiemie99.github.io/yangmiemie99.github.io/2020/02/20/剑指Offer-发散思维能力/1.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/yangmiemie99.github.io/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://yangmiemie99.github.io/2020/02/20/剑指Offer-发散思维能力/">





  <title>剑指Offer-发散思维能力 | MieMieBlog</title><!-- hexo-inject:begin --><!-- hexo-inject:end -->
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/yangmiemie99.github.io/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">MieMieBlog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/yangmiemie99.github.io/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/yangmiemie99.github.io/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/yangmiemie99.github.io/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/yangmiemie99.github.io/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/yangmiemie99.github.io/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://yangmiemie99.github.io/yangmiemie99.github.io/2020/02/20/剑指Offer-发散思维能力/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Yang MieMie">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/yangmiemie99.github.io/images/touxiang.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MieMieBlog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">剑指Offer-发散思维能力</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-02-20T23:15:31+08:00">
                2020-02-20
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/yangmiemie99.github.io/categories/算法/" itemprop="url" rel="index">
                    <span itemprop="name">算法</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="题目64：求1-2-…-n"><a href="#题目64：求1-2-…-n" class="headerlink" title="题目64：求1+2+…+n"></a>题目64：求1+2+…+n</h1><p>求 <code>1+2+...+n</code> ，要求不能使用乘除法、for、while、if、else、switch、case等关键字及条件判断语句（A?B:C）。</p>
<p><strong>示例 1：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">输入: n = 3</span><br><span class="line">输出: 6</span><br></pre></td></tr></table></figure>

<p><strong>示例 2：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">输入: n = 9</span><br><span class="line">输出: 45</span><br></pre></td></tr></table></figure>

<p>我们可以从构造函数，虚函数，函数指针及模板参数的实例化角度考虑这道问题。</p>
<h2 id="C-静态成员变量和静态成员函数使用总结"><a href="#C-静态成员变量和静态成员函数使用总结" class="headerlink" title="C++静态成员变量和静态成员函数使用总结"></a>C++静态成员变量和静态成员函数使用总结</h2><h3 id="一．静态成员变量："><a href="#一．静态成员变量：" class="headerlink" title="一．静态成员变量："></a>一．静态成员变量：</h3><p>​        类体中的数据成员的声明前加上static关键字，该数据成员就成为了该类的静态数据成员。和其他数据成员一样，静态数据成员也遵守public/protected/private访问规则。同时，静态数据成员还具有以下特点： </p>
<p>1.静态数据成员的定义。 </p>
<p>​        静态数据成员实际上是类域中的全局变量。所以，静态数据成员的定义(初始化)不应该被放在头文件中。<br>其定义方式与全局变量相同。举例如下： </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">xxx.h文件 </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">base</span>&#123;</span> </span><br><span class="line"><span class="keyword">private</span>: </span><br><span class="line"><span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">int</span> _i;<span class="comment">//声明，标准c++支持有序类型在类体中初始化,但vc6不支持。 </span></span><br><span class="line">&#125;; </span><br><span class="line"></span><br><span class="line">xxx.cpp文件 </span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> base::_i=<span class="number">10</span>;<span class="comment">//定义(初始化)时不受private和protected访问限制.</span></span><br></pre></td></tr></table></figure>

<p>备注：不要在头文件中定义(初始化)静态数据成员。在大多数的情况下，这样做会引起重复定义这样的错误。即使加上#ifndef #define #endif或者#pragma once也不行。 </p>
<p>2.静态数据成员被 类 的所有对象所共享，包括该类派生类的对象。即派生类对象与基类对象共享基类的静态数据成员。举例如下： </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">base</span>&#123;</span> </span><br><span class="line"><span class="keyword">public</span> : </span><br><span class="line"><span class="keyword">static</span> <span class="keyword">int</span> _num;<span class="comment">//声明 </span></span><br><span class="line">&#125;; </span><br><span class="line"><span class="keyword">int</span> base::_num=<span class="number">0</span>;<span class="comment">//静态数据成员的真正定义 </span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">derived</span>:</span><span class="keyword">public</span> base&#123; </span><br><span class="line">&#125;; </span><br><span class="line"></span><br><span class="line">main() </span><br><span class="line">&#123; </span><br><span class="line">base a; </span><br><span class="line">derived b; </span><br><span class="line">a._num++; </span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="string">"base class static data number _numis"</span>&lt;&lt;a._num&lt;&lt;<span class="built_in">endl</span>; </span><br><span class="line">b._num++; </span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="string">"derived class static data number _numis"</span>&lt;&lt;b._num&lt;&lt;<span class="built_in">endl</span>; </span><br><span class="line">&#125; <span class="comment">// 结果为1,2;可见派生类与基类共用一个静态数据成员。</span></span><br></pre></td></tr></table></figure>

<p>3.静态数据成员可以成为成员函数的可选参数，而普通数据成员则不可以。举例如下：<br>class base{<br>public :<br>static int _staticVar;<br>int _var;<br>void foo1(int i=_staticVar);//正确,_staticVar为静态数据成员<br>void foo2(int i=_var);//错误,_var为普通数据成员<br>}; </p>
<p>4.静态数据成员的类型可以是所属类的类型，而普通数据成员则不可以。普通数据成员的只能声明为所属类类型的 指针或引用。举例如下： </p>
<p>class base{<br>public :<br>static base _object1;//正确，静态数据成员<br>base _object2;//错误<br>base *pObject;//正确，指针<br>base &mObject;//正确，引用<br>}; </p>
<p>5.这个特性，我不知道是属于标准c++中的特性，还是vc6自己的特性。<br>静态数据成员的值在const成员函数中可以被合法的改变。举例如下： </p>
<p>class base{<br>public:<br>base(){_i=0;_val=0;} </p>
<p>mutable int _i;<br>static int _staticVal;<br>int _val;<br>void test() const{//const 成员函数 </p>
<p>_i++;//正确，mutable数据成员<br>_staticVal++;//正确，static数据成员<br>_val++;//错误<br>}<br>};<br>int base::_staticVal=0; </p>
<h3 id="二．静态成员函数："><a href="#二．静态成员函数：" class="headerlink" title="二．静态成员函数："></a>二．静态成员函数：</h3><p>1.静态成员函数的地址可用普通函数指针储存，而普通成员函数地址需要用 类成员函数指针来储存。举例如下：<br>class base{<br>static int func1();<br>int func2();<br>}; </p>
<p>int (<em>pf1)()=&amp;base::func1;//普通的函数指针<br>int (base::</em>pf2)()=&amp;base::func2;//成员函数指针 </p>
<p>2.静态成员函数不可以调用类的非静态成员。因为静态成员函数不含this指针。<br>3.静态成员函数不可以同时声明为 virtual、const、volatile函数。举例如下：<br>class base{<br>virtual static void func1();//错误<br>static void func2() const;//错误<br>static void func3() volatile;//错误<br>};<br>          静态函数不包含有编译器提供的隐藏的this指针，它在类没有实例化的时候就存在，所以可以直接用 （类名：：函数）  来调用，并且由于没有this指针，所以也就没有特定的成员变量供它用，因为类没有实例化前，这些类成员变量不存在，系统也没有分配空间给这些变量，且没有this指针，也无法调用这些成员变量，所以他只能使用那些类没有实例化前就已经存在的静态变量。最后要说的一点是，静态成员是可以独立访问的，也就是说，无须创建任何对象实例就可以访问。</p>
<p> 普通成员函数即非静态函数因为new时传递了一个默认的this指针，所以意味着每一个对象都有一组自己的成员变量，这就意味着他可以使用这些成员变量，同时也可以使用静态成员变量，因为这些变量在对象还没new出来之前就已经存在。<br>普通成员函数要通过对象调用，所以要求首先建立一个对象；而静态成员函数可不建立对象就可以被使用。因此，与类的非静态数据成员无关的成员函数，虽然可以被定义为非静态函数，但是如果定义为静态函数的话在使用上会更加方便。另外，如果类的成员函数想作为回调函数来使用，一般情况下只能将它定义为静态成员才行。</p>
<p> 备注：类在实例化的时候，是通过new关键字来进行的，new时会默认提供一个隐藏的this指针，该指针的作用主要是用来访问实例对象的成员变量的。</p>
<h2 id="解法1-利用构造函数求解"><a href="#解法1-利用构造函数求解" class="headerlink" title="解法1 利用构造函数求解"></a>解法1 利用构造函数求解</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 利用构造函数求解</span></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Temp</span>&#123;</span></span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        Temp()&#123;N++;Sum+=N;&#125;;</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Reset</span><span class="params">()</span></span>&#123;</span><br><span class="line">            N = <span class="number">0</span>;</span><br><span class="line">            Sum = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">unsigned</span> <span class="keyword">int</span> <span class="title">ReturnSum</span><span class="params">()</span></span>&#123;</span><br><span class="line">            <span class="keyword">return</span> Sum;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        <span class="keyword">static</span> <span class="keyword">unsigned</span> <span class="keyword">int</span> N;</span><br><span class="line">        <span class="keyword">static</span> <span class="keyword">unsigned</span> <span class="keyword">int</span> Sum;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">unsigned</span> <span class="keyword">int</span> Temp:: N = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">unsigned</span> <span class="keyword">int</span> Temp::Sum = <span class="number">0</span>;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">Sum_Solution</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        Temp:: Reset();</span><br><span class="line">        Temp* a = <span class="keyword">new</span> Temp[n];</span><br><span class="line">        <span class="keyword">delete</span>[] a;</span><br><span class="line">        <span class="keyword">return</span> Temp:: ReturnSum();    <span class="comment">// 由于定义的静态成员变量是私有的不能用Temp::Sum 返回</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h2 id="解法2：-利用虚函数求解"><a href="#解法2：-利用虚函数求解" class="headerlink" title="解法2： 利用虚函数求解"></a>解法2： 利用虚函数求解</h2><p>既然不能在一个函数中判断是否应该终止递归，那么我们不妨定义两个函数，一个函数充当递归的角色，一个函数处理终止的条件。两个函数二选一自然想到bool变量，怎么把数值变量转化为布尔变量。如果 对n取两次反运算，即!!n，那么非零的n值转化为true，零转化为false</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span>;</span></span><br><span class="line">A* Array[<span class="number">2</span>];</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span>&#123;</span></span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">unsigned</span> <span class="keyword">int</span> <span class="title">sum</span><span class="params">(<span class="keyword">unsigned</span> <span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125; </span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> :</span> <span class="keyword">public</span> A&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">unsigned</span> <span class="keyword">int</span> <span class="title">sum</span><span class="params">(<span class="keyword">unsigned</span> <span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> Array[!!n] -&gt; sum(n<span class="number">-1</span>) + n;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">Sum_Solution</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        Array[<span class="number">0</span>] = <span class="keyword">new</span> A();</span><br><span class="line">        Array[<span class="number">1</span>] = <span class="keyword">new</span> B();</span><br><span class="line">        <span class="keyword">int</span> value = Array[<span class="number">1</span>] -&gt; sum(n);</span><br><span class="line">        <span class="keyword">delete</span> Array[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">delete</span> Array[<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> value;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">	    int Sum_Solution(int n) &#123;</span></span><br><span class="line"><span class="comment">	    A a;</span></span><br><span class="line"><span class="comment">	    B b;</span></span><br><span class="line"><span class="comment">        Array[0] = &amp;a;</span></span><br><span class="line"><span class="comment">        Array[1] = &amp;b;</span></span><br><span class="line"><span class="comment">        int value = Array[1] -&gt; sum(n);</span></span><br><span class="line"><span class="comment">        return value;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<h2 id="解法3：利用函数指针求解"><a href="#解法3：利用函数指针求解" class="headerlink" title="解法3：利用函数指针求解"></a>解法3：利用函数指针求解</h2><h2 id="什么是函数指针"><a href="#什么是函数指针" class="headerlink" title="什么是函数指针"></a>什么是函数指针</h2><p>如果在程序中定义了一个函数，那么在编译时系统就会为这个函数代码分配一段存储空间，这段存储空间的首地址称为这个函数的地址。而且函数名表示的就是这个地址。既然是地址我们就可以定义一个指针变量来存放，这个指针变量就叫作<strong>函数指针变量</strong>，简称<strong>函数指针</strong>。</p>
<p>那么这个指针变量怎么定义呢？虽然同样是指向一个地址，但指向函数的指针变量同我们之前讲的指向变量的指针变量的定义方式是不同的。</p>
<p><code>int (*p)(int ,int)</code></p>
<p>例如：这个语句就定义了一个指向函数的指针变量 p。首先它是一个指针变量，所以要有一个“ * ”，即（ * p）；其次前面的 int 表示这个指针变量可以指向返回值类型为 int 型的函数；后面括号中的两个 int 表示这个指针变量可以指向有两个参数且都是 int 型的函数。所以合起来这个语句的意思就是：定义了一个指针变量 p，该指针变量可以指向返回值类型为 int 型，且有两个整型参数的函数。p 的类型为 int(*)(int，int)。</p>
<p>所以函数指针的定义方式为：</p>
<p><code>函数返回值类型 (* 指针变量名) (函数参数列表);</code></p>
<p>“函数返回值类型”表示该指针变量可以指向具有什么返回值类型的函数；“函数参数列表”表示该指针变量可以指向具有什么参数列表的函数。这个参数列表中只需要写函数的参数类型即可。</p>
<p>那么怎么判断一个指针变量是指向变量的指针变量还是指向函数的指针变量呢？首先看变量名前面有没有“<em>”，如果有“</em>”说明是指针变量；其次看变量名的后面有没有带有形参类型的圆括号，如果有就是指向函数的指针变量，即函数指针，如果没有就是指向变量的指针变量。</p>
<h2 id="如何用函数指针调用函数"><a href="#如何用函数指针调用函数" class="headerlink" title="如何用函数指针调用函数"></a>如何用函数指针调用函数</h2><p>给大家举一个例子：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Func</span><span class="params">(<span class="keyword">int</span> x)</span></span>;   <span class="comment">/*声明一个函数*/</span></span><br><span class="line"><span class="keyword">int</span> (*p) (<span class="keyword">int</span> x);  <span class="comment">/*定义一个函数指针*/</span></span><br><span class="line">p = Func;          <span class="comment">/*将Func函数的首地址赋给指针变量p*/</span></span><br></pre></td></tr></table></figure>

<p>赋值时函数 Func 不带括号，也不带参数。由于函数名 Func 代表函数的首地址，因此经过赋值以后，指针变量 p 就指向函数 Func() 代码的首地址了。</p>
<h2 id="类成员函数指针"><a href="#类成员函数指针" class="headerlink" title="类成员函数指针"></a>类成员函数指针</h2><p>与普通成员函数指针相比，类成员函数指针必须加上<code>类名::</code>。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Sample</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">printSum</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span>&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d + %d = %d\n"</span>, a, b, a+b);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">void</span> (Sample::*sum)(<span class="keyword">int</span>, <span class="keyword">int</span>);</span><br><span class="line"></span><br><span class="line">    sum = &amp;Sample::printSum; <span class="comment">// 这个必须加&amp;，与普通函数不同</span></span><br><span class="line"></span><br><span class="line">    Sample *ins = <span class="keyword">new</span> Sample;</span><br><span class="line"></span><br><span class="line">    (ins-&gt;*sum)(<span class="number">1</span>, <span class="number">2</span>); <span class="comment">// 注意：这里需要加星*</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%p"</span>, &amp;Sample::printSum);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">输出1 + 2 = 3</span></span><br><span class="line"><span class="comment">0x10300ef40</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<p>typedef 成员函数指针类型</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">typedef</span> <span class="title">void</span> <span class="params">(Sample::*SUM)</span><span class="params">(<span class="keyword">int</span>, <span class="keyword">int</span>)</span></span>;</span><br><span class="line">SUM sum = &amp;Sample::printSum;</span><br></pre></td></tr></table></figure>

<p>还是以上面的代码函数的定义为例：</p>
<p>普通成员函数的类型为void ( * )(int, int)，类成员函数类型为void (Sample:: * ) (int, int)，后者一定要加类名。<br>函数指针的定义和普通函数类似，区别是普通函数的变量名写在类型后面，函数指针类型变量名写在类型中间。<br>普通函数的函数名可以作为函数入口指针，加不加&amp;符号都一样效果，类成员函数的指针必须加&amp;符号，调用的时候也必须加*。 可以理解为普通函数名字等同于地址，成员函数的名字和地址不是一个东西。</p>
<p>该题目的解法为：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">typedef</span> <span class="title">int</span> <span class="params">(*fun)</span> <span class="params">(<span class="keyword">int</span>)</span></span>;</span><br><span class="line">     <span class="function"><span class="keyword">static</span> <span class="keyword">int</span> <span class="title">SolutionZero</span><span class="params">(<span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">     <span class="function"><span class="keyword">static</span> <span class="keyword">int</span> <span class="title">Sum_Solution</span><span class="params">( <span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line">        <span class="keyword">static</span> fun f[<span class="number">2</span>]= &#123;SolutionZero,Sum_Solution&#125;;</span><br><span class="line">        <span class="keyword">return</span> n + f[!!n](n<span class="number">-1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">   </span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id><a href="#" class="headerlink" title=""></a></h2><h2 id="解法4：利用模板类型求解"><a href="#解法4：利用模板类型求解" class="headerlink" title="解法4：利用模板类型求解"></a>解法4：利用模板类型求解</h2><p>模板参数可以是数值型参数。也就是非类型参数。如下图所示：</p>
<p><img src="/yangmiemie99.github.io/2020/02/20/剑指Offer-发散思维能力/1.png" alt></p>
<p>我们可以像上面定义一个局部数组，但是却不能这样定义：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> n=<span class="number">10</span>;</span><br><span class="line">func&lt;<span class="keyword">double</span>,n&gt;();</span><br></pre></td></tr></table></figure>

<p>实际上，不光是类型参数不能为数值型模板参数，下面几种情况也不能作为模板参数</p>
<p>浮点数不能作为模板参数<br>变量不能作为模板参数（上面的int n）<br>类对象不能作为模板参数<br>实际上，数值型模板参数是必须在编译阶段被处理的单元，因此在编译阶段数值型模板参数必须被准确无误的确定。向上面的变量，类对象等，都是只有在运行的时候才能够被确定的，所以不能作为数值型模板的参数</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//使用模板函数进行编程，显示定义输入参数为1的模块</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">int</span> N&gt; <span class="comment">// 数值型模板参数</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Sum</span>&#123;</span></span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">int</span> value = Sum&lt;N<span class="number">-1</span>&gt;::value + N;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;&gt; <span class="comment">// 模板特化</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Sum</span> &lt;1&gt;&#123;</span></span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">int</span> value = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"1 + 2 + 3 + ... + 10 = "</span> &lt;&lt; Sum&lt;<span class="number">10</span>&gt;::VALUE &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"1 + 2 + 3 + ... + 100 = "</span> &lt;&lt; Sum&lt;<span class="number">100</span>&gt;::VALUE &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>那么为什么它是最快的方法呢？</p>
<p>首先，我们知道，数值型模板参数都是在编译阶段确定了的，所以，上述代码的VALUE实际上是在编译的时候，就已经确定好了值，最后直接调用这个值，就是计算结果。这肯定比任何计算都要快（这归功于编译器，编译器为我们做了很多事）。所以要求输入的n一定是在编译其间就确定的常量，不能动态输入，而且编译器对递归编译代码的递归深度是有限制的，也就是n不能太大。</p>
<h2 id="解法5：利用-amp-amp-的短路特性"><a href="#解法5：利用-amp-amp-的短路特性" class="headerlink" title="解法5：利用&amp;&amp;的短路特性"></a>解法5：利用&amp;&amp;的短路特性</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//我们手里现在可以使用（按优先级高低）单目运算符：++和--,双目运算符：+,-，移位运算符&lt;&lt;和&gt;&gt;，关系运算符&gt;,&lt;等，逻辑运算符&amp;&amp;，||,&amp;,|,^，赋值=</span></span><br><span class="line"><span class="comment">//单目和双目的作用是一样的，移位显然没有规律性，因为一个二进制位并不能区分某个数和其他数，这也就排除了&amp;,|,^,因为不需要做位运算了</span></span><br><span class="line"><span class="comment">//关系运算符要和if匹配，但这是不行的，这时看看剩下的运算符只能选&amp;&amp;,||了</span></span><br><span class="line"><span class="comment">//这两个运算符具有短路特性，前面的条件判真（或者假）了，就不会再执行后面的条件了</span></span><br><span class="line"><span class="comment">//这时就能联想到--n,直到等于0就能返回值。</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">Sum_Solution</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> sum = n;</span><br><span class="line">        <span class="keyword">bool</span> flag = (sum &gt; <span class="number">0</span>) &amp;&amp; ((sum += Sum_Solution(n<span class="number">-1</span>)) &gt; <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">return</span> sum;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h1 id="题目65：不用加减乘除做加法"><a href="#题目65：不用加减乘除做加法" class="headerlink" title="题目65：不用加减乘除做加法"></a>题目65：不用加减乘除做加法</h1><p>写一个函数，求两个整数之和，要求在函数体内不得使用+、-、*、/四则运算符号。</p>
<p>第一步不考虑进位对每一位相加。我们注意到这样和异或相同。</p>
<p>第二部只考虑进位，两个1才能进位使用运算符&amp;，进位整体向前移动一位即可。</p>
<p>第三部再把两个数相加直到没有进位</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Add</span><span class="params">(<span class="keyword">int</span> num1, <span class="keyword">int</span> num2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> sum, carry;</span><br><span class="line">    <span class="keyword">do</span>&#123;</span><br><span class="line">        <span class="comment">// 不考虑进位的结果</span></span><br><span class="line">        sum = num1 ^ num2;</span><br><span class="line">        <span class="comment">// 进位大小</span></span><br><span class="line">        carry = (num1 &amp; num2) &lt;&lt; <span class="number">1</span>;</span><br><span class="line">        num1 = sum;</span><br><span class="line">        num2 = carry;</span><br><span class="line">    &#125;<span class="keyword">while</span>(num2 != <span class="number">0</span>);</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="面试题66：构建乘积数组"><a href="#面试题66：构建乘积数组" class="headerlink" title="面试题66：构建乘积数组"></a>面试题66：构建乘积数组</h1><blockquote>
<p>给定一个数组A[0,1,…,n-1],请构建一个数组B[0,1,…,n-1],其中B中的元素B[i]=A[0]<em>A[1]</em>…<em>A[i-1]*A[i+1]</em>…*A[n-1]。不能使用除法。（注意：规定B[0] = A[1] * A[2] * … * A[n-1]，B[n-1] = A[0] * A[1] * … * A[n-2];）</p>
</blockquote>
<p><img src="/yangmiemie99.github.io/2020/02/20/剑指Offer-发散思维能力/2.jpeg" alt></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; multiply(<span class="keyword">const</span> <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; A) &#123;  <span class="comment">// 超出空间限制</span></span><br><span class="line">    <span class="keyword">int</span> length = A.size();</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; res;</span><br><span class="line">    <span class="keyword">if</span>(length ==<span class="number">0</span>) <span class="keyword">return</span> res;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; leftINum;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; rightINum;</span><br><span class="line">    <span class="keyword">int</span> tmp = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; length;++i)&#123;</span><br><span class="line">        <span class="keyword">if</span>(i &gt; <span class="number">0</span>)</span><br><span class="line">            tmp *= A[i<span class="number">-1</span>];</span><br><span class="line">        leftINum.push_back(tmp);</span><br><span class="line">    &#125;</span><br><span class="line">    tmp =<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = length<span class="number">-1</span>; i &gt;= <span class="number">0</span>;--i)&#123;</span><br><span class="line">        <span class="keyword">if</span>(i &lt; length <span class="number">-1</span>)</span><br><span class="line">            tmp *= A[i+<span class="number">1</span>];</span><br><span class="line">        rightINum.push_back(tmp);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i =<span class="number">0</span>; i &lt; length; ++i)&#123;</span><br><span class="line">        res.push_back(leftINum[i] * rightINum[length - i <span class="number">-1</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; multiply(<span class="keyword">const</span> <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; A) &#123;</span><br><span class="line">    <span class="keyword">int</span> length = A.size();</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; res;</span><br><span class="line">    <span class="keyword">if</span>(length ==<span class="number">0</span>) <span class="keyword">return</span> res;</span><br><span class="line">    res.push_back(<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; length<span class="number">-1</span>;++i)&#123;</span><br><span class="line">        res.push_back(A[i] * res.back());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> tmp =<span class="number">1</span>;</span><br><span class="line">    <span class="comment">// 这里是-- 写错了卡了好久</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = length<span class="number">-1</span>; i &gt;= <span class="number">0</span>;--i)&#123;</span><br><span class="line">        res[i] = res[i] * tmp;</span><br><span class="line">        tmp = tmp * A[i];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/yangmiemie99.github.io/tags/剑指Offer/" rel="tag"># 剑指Offer</a>
          
            <a href="/yangmiemie99.github.io/tags/算法/" rel="tag"># 算法</a>
          
            <a href="/yangmiemie99.github.io/tags/函数指针/" rel="tag"># 函数指针</a>
          
            <a href="/yangmiemie99.github.io/tags/静态成员/" rel="tag"># 静态成员</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/yangmiemie99.github.io/2020/02/19/剑指Offer-抽象建模能力60-63/" rel="next" title="剑指Offer-抽象建模能力60-63">
                <i class="fa fa-chevron-left"></i> 剑指Offer-抽象建模能力60-63
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/yangmiemie99.github.io/2020/02/22/字符串转化为整数atoi和itoa/" rel="prev" title="字符串转化为整数atoi和itoa">
                字符串转化为整数atoi和itoa <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/yangmiemie99.github.io/images/touxiang.jpeg" alt="Yang MieMie">
            
              <p class="site-author-name" itemprop="name">Yang MieMie</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/yangmiemie99.github.io/archives/">
              
                  <span class="site-state-item-count">39</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/yangmiemie99.github.io/categories/index.html">
                  <span class="site-state-item-count">9</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/yangmiemie99.github.io/tags/index.html">
                  <span class="site-state-item-count">27</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/yangmiemie99" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#题目64：求1-2-…-n"><span class="nav-number">1.</span> <span class="nav-text">题目64：求1+2+…+n</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#C-静态成员变量和静态成员函数使用总结"><span class="nav-number">1.1.</span> <span class="nav-text">C++静态成员变量和静态成员函数使用总结</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#一．静态成员变量："><span class="nav-number">1.1.1.</span> <span class="nav-text">一．静态成员变量：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#二．静态成员函数："><span class="nav-number">1.1.2.</span> <span class="nav-text">二．静态成员函数：</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#解法1-利用构造函数求解"><span class="nav-number">1.2.</span> <span class="nav-text">解法1 利用构造函数求解</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#解法2：-利用虚函数求解"><span class="nav-number">1.3.</span> <span class="nav-text">解法2： 利用虚函数求解</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#解法3：利用函数指针求解"><span class="nav-number">1.4.</span> <span class="nav-text">解法3：利用函数指针求解</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#什么是函数指针"><span class="nav-number">1.5.</span> <span class="nav-text">什么是函数指针</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#如何用函数指针调用函数"><span class="nav-number">1.6.</span> <span class="nav-text">如何用函数指针调用函数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#类成员函数指针"><span class="nav-number">1.7.</span> <span class="nav-text">类成员函数指针</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#null"><span class="nav-number">1.8.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#解法4：利用模板类型求解"><span class="nav-number">1.9.</span> <span class="nav-text">解法4：利用模板类型求解</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#解法5：利用-amp-amp-的短路特性"><span class="nav-number">1.10.</span> <span class="nav-text">解法5：利用&amp;&amp;的短路特性</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#题目65：不用加减乘除做加法"><span class="nav-number">2.</span> <span class="nav-text">题目65：不用加减乘除做加法</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#面试题66：构建乘积数组"><span class="nav-number">3.</span> <span class="nav-text">面试题66：构建乘积数组</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Yang MieMie</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/yangmiemie99.github.io/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/yangmiemie99.github.io/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/yangmiemie99.github.io/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/yangmiemie99.github.io/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/yangmiemie99.github.io/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/yangmiemie99.github.io/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/yangmiemie99.github.io/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/yangmiemie99.github.io/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/yangmiemie99.github.io/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/yangmiemie99.github.io/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/yangmiemie99.github.io/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/yangmiemie99.github.io/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/yangmiemie99.github.io/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config("");
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->
  


  

  

</body>
</html>
